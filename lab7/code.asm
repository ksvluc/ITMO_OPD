ORG 0x00B0
RESULT: WORD 0
CHECK1: WORD 0
CHECK2: WORD 0
CHECK3: WORD 0
RES1: WORD 0
RES2: WORD 0
RES3: WORD 0
AC1: WORD 0x1010
ARG1: WORD 0x0010
AC2: WORD 0xFFFF
C2: WORD 0x2
ARG2: WORD 0x0004
AC3: WORD 0x0002
ARG3: WORD 0x0008

org 0x00D0
START: CLA
CALL TEST1
CALL TEST2
CALL TEST3
CLA
LD CHECK1
OR CHECK2
OR CHECK3
ST RESULT
STOP: HLT

TEST1: LD AC1
ST RES1
LD ARG1
ADC RES1
ST RES1
CLC
LD AC1
CMP1: WORD 0x90B8
BMI ERROR1
LD ARG1
CMP RES1
BEQ CORR1
ERROR1:
CLA
CLC
RET
CORR1: ST RES1
LD #0x1
ST CHECK1
CLA
CLC
RET

TEST2: LD AC2
ADD C2
ST RES2
LD ARG2
ADC RES2
ST RES2
CLC
LD AC2
ADD C2
CMP2: WORD 0x90BB
LD ARG2
CMP RES2
BEQ CORR2
ERROR2:
CLA
CLC
RET
CORR2: ST RES2
LD #0x2
ST CHECK2
CLA
CLC
RET

TEST3: LD AC3
ST RES3
LD ARG3
ADC RES3
ST RES3
CLC
LD AC3
CMP3: WORD 0x90BD
LD ARG3
CMP RES3
BEQ CORR3
ERROR3:
CLA
CLC
RET
CORR3: ST RES3
LD #0x4
ST CHECK3
CLA
CLC
RET
